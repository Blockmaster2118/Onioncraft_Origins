{
    "name": "Dark Tendril",
    "description": "",
    "type": "origins:multiple",
    "activate": {
        "type": "origins:active_self",
        "key": { "key": "key.origins.secondary_active"},
        "entity_action": {
            "type": "origins:and",
            "actions": [
                {
                    "type": "origins:execute_command",
                    "command": "tag @s add shooter"
                },
                {
                    "type": "origins:execute_command",
                    "command": "playsound item.crossbow.shoot player @a ~ ~ ~ 1.0"
                },
                {
                    "type": "origins:change_resource",
                    "resource": "fairy:tendril_blockpullation",
                    "change": 20
                },
                {
                    "type": "origins:execute_command",
                    "command": "effect give @s slowness 1 0 true"
                },
                {
                    "type": "origins:execute_command",
                    "command": "execute if entity @e[distance=..20,tag=pulled] run playsound item.crossbow.loading_middle player @a[tag=!pulled] ~ ~ ~ 1.0"
                },
                {
                    "type": "origins:execute_command",
                    "command": "power grant @e[tag=blockpull] fairy:destroy"
                },
                {
                    "type": "origins:delay",
                    "ticks": 4,
                    "action": {
                        "type": "origins:execute_command",
                        "command": "execute if entity @e[distance=..20,tag=pulled] run playsound item.crossbow.loading_middle player @a[tag=!pulled] ~ ~ ~ 1.0"
                    }
                },
                {
                    "type": "origins:delay",
                    "ticks": 8,
                    "action": {
                        "type": "origins:execute_command",
                        "command": "execute if entity @e[distance=..20,tag=pulled] run playsound item.crossbow.loading_middle player @a[tag=!pulled] ~ ~ ~ 1.0"
                    }
                },
                {
                    "type": "origins:delay",
                    "ticks": 12,
                    "action": {
                        "type": "origins:execute_command",
                        "command": "execute if entity @e[distance=..20,tag=pulled] run playsound item.crossbow.loading_middle player @a[tag=!pulled] ~ ~ ~ 1.0"
                    }
                },
                {
                    "type": "origins:execute_command",
                    "command": "function tentacle:start_ray"
                },
                {
                    "type": "origins:delay",
                    "ticks": 80,
                    "action": {
                        "type": "origins:execute_command",
                        "command": "tag @s remove shooter"
                    }
                }
            ]
        },
        "cooldown": 100,
        "hud_render": {
            "sprite_location": "origins:textures/gui/community/huang/resource_bar_01.png",
            "bar_index": 17
        },
        "condition": {
            "type": "origins:equipped_item",
            "equipment_slot": "offhand",
            "item_condition": {
                "type": "origins:ingredient",
                "ingredient": {
                    "item": "minecraft:air"
                }
            }
        }
    },
    "moredmg": {
        "type": "origins:modify_damage_dealt",
        "modifier": {
            "name": "Extra damage when submerged",
            "operation": "addition",
            "value": 5.0
        },
        "target_condition": {
            "type": "origins:nbt",
            "nbt": "{Tags: ['pulled']}"
        }
    }
}